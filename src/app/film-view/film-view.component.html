<div class="container-fluid height fondo">

    <div class="row">
        <div class="d-lg-block col-lg-6 col-md-6 col-12   imageView">
            <h1> {{movie.movieName}}</h1>
             <img class="imgSize" src="{{movie.poster[0].url}}" alt="" class="imgSize"> 
            <br>
            
        </div>
        
        <div class="d-lg-block col-lg-4 col-md-6 col-12  txtInf">
            <div class="featured-text text-center">
                <h2>Genero</h2>
                <ul class="txt cursor" *ngFor="let genre of movie.genre" [routerLink]="['../../movies-by-genre',genre.id]">
                    <a> {{genre.genre}}</a>
                </ul>
            </div>
            <hr>
            <div class="featured-text text-center">
                <h2>Director</h2>
                <ul class="txt cursor" *ngFor="let director of movie.director" [routerLink]="['../../movies-by-director',director.id]">
                    <a> {{director.name}} {{director.lastName}}</a>
                </ul>
            </div>
            <hr>
            <div class="featured-text text-center">
                <h2>Guíon</h2>
                <div >
                    <ul class="txt cursor" *ngFor="let screenwritters of movie.screenwritter" [routerLink]="['../../movies-by-screenwritter',screenwritters.id]">
                        <a >{{screenwritters.name}} {{screenwritters.lastName}} </a>
                    </ul>
                </div>
            </div>
            <!-- <hr>
            <div class="featured-text text-center">
                <h2>Reparto</h2>
                <p class="txt">Michael B. Jordan, Jonathan Majors</p>
            </div> -->
        </div>
        <div class="d-lg-block ">
            <div class=" text-center ">
                <hr>
                <h2>Synopsis</h2>
                <p id="txt" class="col-lg-12">{{movie.plot}}</p>
                <hr>
            </div>
        </div>
        <div class="d-lg-block col-lg-12  imgView">
            <h2 id="trailerTitle">TRAILER</h2>
        </div>
        <div class="text-center d-lg-block ">
            <div class="d-lg-block  col-lg-12 d-none imgView" id="trailer">
                <br>
                <youtube-player class="trailerSize" videoId="{{movie.trailer}}"></youtube-player>
                <br>

            </div><br>
            <hr>
        </div>
        <div class="butonNav col-lg-12">
            <button (click)="cambiarContenido('boton1')">Main cast</button>
            <button (click)="cambiarContenido('boton2')">Critics</button>
            <button (click)="cambiarContenido('boton3')">Did you know...?</button>

            <div class="row result text-center " *ngIf="contenidoActual === 'boton1'">
                <div class="col-lg-3 col-md-6 col-12   text-center " *ngFor="let actor of movie.actors">
                <div class="card cursor offset-sm-2" style="width: 50%;">
                    <img src="{{actor.photo}}" class="card-img-top" alt="..." [routerLink]="['../../movies-by-actor',actor.id]">
                    <div class="card-body">
                      <h5 class="card-title">{{actor.name}} {{actor.lastName}}</h5>
                    </div>
                  </div>
                </div>
            </div>

            <div class="result" *ngIf="contenidoActual === 'boton2'">

                <div class="col-lg-12" *ngFor="let review of movie.reviews">
                    <span class="namesMainCast justify-content-between " *ngFor="let user of review.id_user">{{user.username}} <span>{{movie.score}}<i class="fas fa-star" style="color: yellow">&#9733;</i></span></span>
                    <p class="namesMainCast">{{review.text}}</p>
                </div>
                <form>
                    <input type="text" placeholder="Escribe tu comentario" name="comment" required>
                    <button type="submit">Enviar</button>
                </form>
            </div>
            <div class="result" *ngIf="contenidoActual === 'boton3'">
                <p>Contenido del botón 3</p>
            </div>
           
        </div>
    </div>
</div>

<div class="bg2">
    <h2 class="col-12 text-center">Critics</h2>
    <div class="row">
      <div class="col-lg-12" *ngFor="let review of reviews">
        <h1>{{review.text}}</h1>
        <!-- <span class="namesMainCast justify-content-between" *ngFor="let user of review.user">{{user.username}} <span>{{movie.score}}<i class="fas fa-star" style="color: yellow">&#9733;</i></span></span> -->
        <p class="namesMainCast">{{review.text}}</p>
      </div>
      <div class="col-lg-12">
        <form [formGroup]="reviewForm" class="text-center"  (ngSubmit)="postReview()">
          <div class="form-group">
            <input type="text" class="form-control form-control-md" formControlName="text" placeholder="Escribe tu comentario" name="comment" required>
          </div>
          <div class="form-group">
            <input type="number" class="form-control form-control-md" formControlName="averageRating" placeholder="Escribe tu comentario" name="comment" required>
          </div>
          
          <div class="form-group">
            <button type="submit" class="btn btn-primary w-100">Enviar</button>
          </div>
        </form>
      </div>
    </div><br>
  </div>
  
