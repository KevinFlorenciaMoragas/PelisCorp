<script src="./principal.js"></script>
<div class="element-without-scrollbar">
    <div class="masthead">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h1 id="index-text">Welcome to FilmCorp</h1>
                </div>
                <carousel [itemsPerSlide]="1" [singleSlideOffset]="true" [showIndicators]="false" [interval]="8000"
                    [noPause]="true">
                    <slide *ngFor="let movie of movies" class="carousel-slide" [routerLink]="['/film-view',movie.id]">
                         <div class="row">
                        <div class="d-lg-block col-lg-6 col-md-12 col-12 imageView text-center">
                            <p *ngFor="let poster of movie.poster">
                                <img class="starterImg" src="{{poster.url}}" style="object-fit: cover;">
                            </p>
                            <h5 id="bgNameCarousel" class="cardTitle">{{movie.movieName}}</h5>
                        </div>

                        <section class="d-lg-block col-lg-6 col-sm-12 col-md-12 col-12">
                            <div class="container py-4">
                                <article class="postcard">
                                    <div class="postcard__text">
                                        
                                        <h5>Movie director:</h5>
                                        <ul class="postcard__tagbox">
                                            <li class="tag__item" *ngFor="let director of movie.director"><i
                                                    [routerLink]="['../../movies-by-director',director.id]"
                                                    class="fas fa-tag mr-2">{{director.name}}
                                                    {{director.lastName}}</i></li>
                                        </ul>
                                        <h5>Cast:</h5>
                                        <ul class="postcard__tagbox">
                                            <li class="tag__item" *ngFor="let actor of movie.actors"><i
                                                    [routerLink]="['../../movies-by-actor',actor.id]"
                                                    class="fas fa-tag mr-2">{{actor.name}}
                                                    {{actor.lastName}}</i></li>
                                        </ul>
                                        <h5>Plot:</h5>
                                        <p class="truncate">{{movie.plot}}</p>
                                        <ul class="postcard__tagbox">
                                            <li class="tag__item" *ngFor="let genre of movie.genre"><i
                                                    [routerLink]="['../../movies-by-genre',genre.id]"
                                                    class="fas fa-tag mr-2">{{genre.genre}}</i></li>
                                        </ul>
                                        <h2 class="postcard__title">{{movie.score}}<i class="fas fa-star"
                                            style="color: yellow">&#9733;</i></h2>
                                    </div>
                                </article>
                            </div>
                        </section>

                         </div>
                    </slide>
                </carousel>
            </div>
        </div>

        <div class="bgSlider">
            <div class="row bg-purple text-white justify-content-center">
                <h2 class="col-12 text-center">The most Popular</h2>
                <div class="col-md-8 col-lg-12 col-sm-12 col-6">
                    <div class="slider">
                        <div class="slide-track">
                            <div class="slide" *ngFor="let movie of movies">
                                <div class="slide" *ngFor="let poster of movie.poster">
                                    <img class="infiniteCarousel" [src]="poster.url">
                                </div>
                                <div class="card-body">
                                    <h5 class="card-title"
                                        style="color: aliceblue; margin-left: 3%; font-family: monospace;">
                                        {{movie.movieName}}</h5>
                                    <button id="buttonCarousel" style="margin-left: 3%;" class="btn mb-3"
                                        [routerLink]="['/film-view',movie.id]">MORE</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>



        <h1 id="subtitleFreatured" class="col-12 text-center">Recomended</h1>
        <div class="card-container">
            <div class="row">
                <div class="col-lg-2 col-md-4 col-xs-12 trailer-container2" style="margin: auto;"> <img
                        class="img-responsive" style="display:block; margin-left: auto; margin-right: auto;"
                        src="{{movieRecommended.poster[0].url}} "> </div>
                <div class="col-lg-5 col-md- col-xs-12">
                    <h2 class="title">{{movieRecommended.movieName}}</h2>
                    <p class="subtitle">Plot</p>
                    <p class="plot">{{movieRecommended.plot}}</p>
                </div>
                <div class="trailer-container col-lg-5 col-md-12 col-xs-12 " style="margin: auto; ">
                    <div class="col-lg-12 d-lg-block d-md-none d-none">
                        <div class=" text-center"> <youtube-player class="recomended-video"
                                videoId="{{movieRecommended.trailer}}" allowfullscreen [height]="playerHeight"
                                [width]="playerWidth"></youtube-player><br> </div>
                    </div>
                </div>
            </div>
        </div>


        <div class="button-container">
            <button class="container buttonFeatured w-100"
                [routerLink]="['/film-view',movieRecommended.id]">More</button>
        </div>

        <div class="bgSlider">
            <div class="row bg-purple text-white justify-content-center">
                <h2 class="col-12 text-center">The most Interesting</h2>
                <div class="col-md-8 col-lg-12 col-sm-12 col-6">
                    <div class="slider">
                        <div class="slide-track">
                            <div class="slide" *ngFor="let movie of movies">
                                <div class="slide" *ngFor="let poster of movie.poster">
                                    <img class="infiniteCarousel" [src]="poster.url">
                                </div>
                                <div class="card-body">
                                    <h5 class="card-title"
                                        style="color: aliceblue; margin-left: 3%; font-family: monospace;">
                                        {{movie.movieName}}</h5>
                                    <button id="buttonCarousel" style="margin-left: 3%;" class="btn mb-3"
                                        [routerLink]="['/film-view',movie.id]">MORE</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <br>
        <div class="container">
            <h1 id="subtitleFreatured" class="col-12 text-center">Featured</h1>
            <div class="d-flex justify-content-center row">
                <div class="col-md-4" *ngFor="let movie of displayedMovies; let i = index"
                    [ngClass]="{'show-more-effect': showAllMovies && i >= 0}">
                    <div class="card mb-3" style="max-width: 540px;" *ngIf="i < 3 || showAllMovies">
                        <div class="row g-0">
                            <div class="col-md-4">

                                <img src="{{movie.poster[0].url}}" class="img-fluid rounded-start"
                                    [routerLink]="['/film-view',movie.id]" alt="...">

                            </div>
                            <div id="bgCard" class="col-md-8">
                                <div class="card-body">
                                    <h5 id="colorLetterCard" class="card-title">{{movie.movieName}}</h5>
                                    <span *ngFor="let director of movie.director" id="colorLetterCard"
                                        class="card-text">{{director.name}} {{director.lastName}}</span>
                                    <br>
                                    <span *ngFor="let genre of movie.genre" id="colorLetterCard"
                                        class="card-text">{{genre.genre}} </span>
                                    <br>
                                    <button id="buttonCarousel" class="btn mb-3"
                                        [routerLink]="['/film-view',movie.id]">MORE</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <button class="buttonFeatured w-100" *ngIf="showLoadMoreButton" (click)="loadMore()">Show more</button>
            <button class="buttonFeatured w-100" *ngIf="showLoadLessButton" (click)="loadLess()">Show less</button>
        </div>
    </div>
</div>